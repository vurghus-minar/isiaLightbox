!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof module&&module.exports?module.exports=t():e.isiaLightbox=t()}("undefined"!=typeof self?self:this,function(){"use strict";const e=document.body,t=document.getElementsByClassName("isiaLightbox-trigger"),n={closeIconImg:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAACMklEQVQ4ja2UsWsUQRjFf285jiBBLMIVFiJBECSliBwhjbsgtoIgSBCRWKSQEAI2kiIElSCSIo2ghYQgVsHS2eh/IVFShSBiFUKqcNyzuNnL3OYSLHzd7nz8Zub73hsZU6nIiwxo2u6UW2WHUxTrGkA3lGGgLkuKzgE5sCrpXvweBmsA14EVYKbIi7F0XcYUeXHO9h1Ja7ZbknaB18D7UIbDBNa0fVPSSoQCvLS9Wm6VfwCyePxJSWtASxLAJWAOeFjkxYUKBrQlLUdYBmS2n0majetkQBO4a7tVu93lCH1Q5MVF25O2F4F22ipJGfA4cmgAHeCbpNvxZKnGgafAVUkTtqdSWNSh7U1JR2kPR+IucxFSV9d2dZq+bB9I+ggshjL87gNjj0aB6Qi9MgRa1z6wAbwIZdirfvZ3jNNcB94AP/8Btg68An6lCwNXCGU4ADaBL0D3DOA28A7YC2UYqBsAFnkxYvsaMGGbM9QCJoHz9YU0KU3bbUnPbU/VB1DTOMeWGj0BjHFqA0v0TH4WLIXO236UxlR5nmfADWCV4wSk2qfXszGGT3+X3nDehjJ0MqBh+/4psAN61pilN/2dIcAqpv2kdCX9qFdF027E3feAnWjueU6af5voiiy+Z5/ovRqVBQ5jApaJ1oiW+kDvFdpNYF+BeeA4egBFXrSAGdtPgM+Slqo4pcpv5SOSpm0vSPoOLAA7lR9Ve7GbsRdHoQxHQ/pV1TViXTfW9s09APwf+gvf9e8PsXsJjAAAAABJRU5ErkJggg==",animateInClass:"lightboxBounceIn",animateOutClass:"lightboxFadeOut",animateInTimeOut:500,animateOutTimeOut:1e3,allowedCloseMethods:["overlay-click","close-button-click","keyboard-escape-press"],onBeforeTemplateInit:null,onOpen:null,onClose:null,onBeforeOpen:null,onBeforeClose:null};let o,i,l,s,a,c,d,u,f,r,m;function p(i){o=function(){for(let e=1;e<arguments.length;e++)for(let t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]}({},n,i),function(){for(let e=0;e<t.length;e++)t[e].addEventListener("click",n=>{n.preventDefault();const o=t[e].dataset.src.split(",");let i;switch(s=JSON.parse(t[e].dataset.overlay||!0),o[0]){case"next":const n=t[e].nextElementSibling;i=h(n),a=n.innerHTML,g(i);break;case"id":const l=document.querySelector("#"+o[1]);i=h(l),a=document.getElementById(o[1]).innerHTML,g(i)}})}(),window.addEventListener("load",function(){(l=document.createElement("div")).setAttribute("class","isiaLightbox-overlay"),e.insertAdjacentElement("beforeend",l)})}function g(e){e.overlay&&(s=e.overlay),e.footerContent&&(c=e.footerContent),m=e.apiOnBeforeTemplateInit||null,d=e.apiOnBeforeOpen||null,u=e.apiOnAfterOpen||null,f=e.apiOnBeforeClose||null,r=e.apiOnAfterClose||null;const t=function(e){let t,n,i,l,s;"function"==typeof o.onBeforeTemplateInit&&o.onBeforeTemplateInit.call(this);"function"==typeof m&&m.call(this);e.subtitle&&""!==e.subtitle&&(i=`<span>${e.subtitle}</span>`);e.title&&""!==e.title&&(n=`<h3>${e.title}${i}</h3>`);t="undefined"===(t=`${e.id}`)?"":`id=${e.id}`;" undefined"===(l=` ${e.theme}`)&&(l="");return s=`<div class="isiaLightboxClose close"><img class="close-icon" src="${o.closeIconImg}" /></div>`,`<div ${t} class="isiaLightbox${l}"><div class="isiaLightbox-header">${n}${s}</div><div class="isiaLightbox-content">${a}</div><div class="isiaLightbox-footer">${c}</div></div>`}(e),n=document.createRange();n.selectNode(document.getElementsByTagName("div").item(0));const p=n.createContextualFragment(t);if(document.body.appendChild(p),i=document.getElementsByClassName("isiaLightbox")[0],function(){"function"==typeof o.onBeforeOpen&&o.onBeforeOpen.call(this);"function"==typeof d&&d.call(this);!function(){let e=document.getElementsByClassName("isiaLightbox-content")[0],t=document.getElementsByClassName("isiaLightbox-header")[0],n=document.getElementsByClassName("isiaLightbox-footer")[0];e.style.height=i.clientHeight-n.clientHeight-t.clientHeight-parseInt(window.getComputedStyle(e).getPropertyValue("padding-top").replace("px",""))-parseInt(window.getComputedStyle(e).getPropertyValue("padding-bottom").replace("px",""))+"px",e.style.overflowY="auto"}();let e=0;s&&(l.style.display="block",l.style.height="100%",l.style.width="100%",l.classList.add("overlayFadeIn"),e=o.animateInTimeOut);setTimeout(function(){i.classList.add(o.animateInClass)},e),"function"==typeof o.onOpen&&o.onOpen.call(this);"function"==typeof u&&u.call(this)}(),o.allowedCloseMethods.indexOf("overlay-click")>-1&&l.addEventListener("click",function(){y()}),o.allowedCloseMethods.indexOf("close-button-click")>-1){document.getElementsByClassName("isiaLightboxClose")[0].addEventListener("click",function(){y()})}o.allowedCloseMethods.indexOf("keyboard-escape-press")>-1&&window.addEventListener("keydown",function(e){27===e.keyCode&&y()})}function h(e){return e.dataset}function y(){"function"==typeof o.onBeforeClose&&o.onBeforeClose.call(this),"function"==typeof f&&f.call(this),i.classList.remove(o.animateInClass),i.classList.add(o.animateOutClass);let e=o.animateOutTimeOut;s&&(l.classList.remove("overlayFadeIn"),l.classList.add("overlayFadeOut")),setTimeout(function(){s&&(l.style.display="none",l.style.height="0%",l.style.width="0%",l.classList.remove("overlayFadeOut")),i.remove()},e),"function"==typeof o.onClose&&o.onClose.call(this),"function"==typeof r&&r.call(this)}return{modalActive:function(e){p(e)},close:function(){0!==document.getElementsByClassName("isiaLightbox").length&&y()},open:function(e){g(e)},setContent:function(e){a=e},setFooterContent:function(e){FooterContent=e}}});